// Project Models and ENUMS

model Project {
  // common fields
  id         Int       @id @default(autoincrement())
  created_at DateTime  @default(now())
  updated_at DateTime?
  is_active  Boolean   @default(true)

  // creator information
  creator_id Int
  created_by User @relation("UserCreatedProjects", fields: [creator_id], references: [id])

  // project details
  title  String
  status ProjectStatus @default(OPEN)

  user_roles   CategoriesOnProjects[] // This table connects users to projects with their roles
  MoM          MoM[]
  Notification Notification[]
}

enum ProjectStatus {
  OPEN
  CLOSED
}

model CategoriesOnProjects {
  project     Project  @relation(fields: [project_id], references: [id])
  project_id  Int // relation scalar field (used in the `@relation` attribute above)
  user        User     @relation(fields: [user_id], references: [id])
  user_id     Int // relation scalar field (used in the `@relation` attribute above)
  assigned_at DateTime @default(now())
  assigned_by Int

  role UserRole // Specific role for the user in the project (CREATOR, REVIEWER, etc.)

  @@id([project_id, user_id]) // Composite primary key
}
